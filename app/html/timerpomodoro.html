<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timer Pomodoro | Simulados de Enfermagem</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Nunito+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --primary: #1A3E74; --accent: #00bcd4; --success: #4caf50; --light: #f4f6f9; }
        body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, var(--primary) 0%, #0d2a52 100%); min-height: 100vh; }
        main { min-height: calc(100vh - 200px); padding: 40px 20px; display: flex; align-items: center; justify-content: center; }
        .container { max-width: 600px; width: 100%; }
        .pomodoro-card { background: white; border-radius: 20px; padding: 40px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
        .page-header { text-align: center; margin-bottom: 40px; }
        .page-header h1 { font-family: 'Nunito Sans', sans-serif; font-size: 28px; font-weight: 700; margin-bottom: 8px; }
        .page-header p { font-size: 14px; color: #666; }
        .timer-display { text-align: center; margin: 40px 0; }
        .timer-time { font-size: 80px; font-weight: 700; color: var(--primary); font-family: 'Courier New', monospace; letter-spacing: 10px; }
        .timer-status { font-size: 18px; color: #666; margin-top: 16px; font-weight: 600; }
        .controls { display: flex; gap: 12px; justify-content: center; margin: 30px 0; }
        .btn { padding: 12px 32px; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; }
        .btn-primary { background: var(--primary); color: white; }
        .btn-secondary { background: #e2e8f0; color: #1f2937; }
        .stats { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-top: 40px; }
        .stat-item { background: var(--light); padding: 20px; border-radius: 12px; text-align: center; }
        .stat-label { font-size: 14px; color: #666; margin-bottom: 8px; }
        .stat-value { font-size: 28px; font-weight: 700; color: var(--primary); }
        .settings { margin-top: 30px; padding-top: 30px; border-top: 2px solid #e2e8f0; }
        .settings h3 { font-size: 16px; font-weight: 700; margin-bottom: 16px; }
        .setting-group { display: flex; align-items: center; gap: 16px; margin-bottom: 16px; }
        .setting-group label { flex-grow: 1; font-size: 14px; color: #666; }
        .setting-group input { width: 60px; padding: 8px; border: 1px solid #e2e8f0; border-radius: 6px; }
        @media (max-width: 768px) { .timer-time { font-size: 60px; } .pomodoro-card { padding: 24px; } }
    </style>
</head>
<body>
    <div id="accessibility-container"></div>
    <header id="header-container"></header>
    <main id="main">
        <div class="container">
            <div class="pomodoro-card">
                <div class="page-header">
                    <h1><i class="fas fa-clock"></i> Timer Pomodoro</h1>
                    <p>T√©cnica comprovada para aumentar a produtividade nos estudos</p>
                </div>

                <div style="background: #f0f7ff; padding: 20px; border-radius: 12px; margin-bottom: 30px;">
                    <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 12px;">
                        <i class="fas fa-book"></i> Foco nos Estudos
                    </h3>
                    <p style="font-size: 14px; color: #666; margin-bottom: 12px;">O que voc√™ vai estudar?</p>
                    <div style="display: flex; gap: 12px;">
                        <input type="text" id="focus-input" placeholder="Ex: Farmacologia, Antibi√≥ticos" style="flex-grow: 1; padding: 10px; border: 1px solid #e2e8f0; border-radius: 6px;">
                        <button class="btn btn-primary" onclick="Pomodoro.setarFoco()"><i class="fas fa-check"></i></button>
                    </div>
                </div>

                <div class="timer-display">
                    <div class="timer-time" id="timer-display">25:00</div>
                    <div class="timer-status" id="timer-status">üî¥ Foco - Tempo de estudar</div>
                </div>

                <div class="controls">
                    <button class="btn btn-primary" id="btn-iniciar" onclick="Pomodoro.iniciar()">
                        <i class="fas fa-play"></i> Iniciar
                    </button>
                    <button class="btn btn-secondary" id="btn-pausar" onclick="Pomodoro.pausar()" style="display: none;">
                        <i class="fas fa-pause"></i> Pausar
                    </button>
                    <button class="btn btn-secondary" onclick="Pomodoro.resetar()">
                        <i class="fas fa-redo"></i> Resetar
                    </button>
                </div>

                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-label">Pomodoros Hoje</div>
                        <div class="stat-value" id="pomodoros-hoje">0</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">Como funciona:</div>
                        <div style="font-size: 13px; color: #666; margin-top: 8px;">
                            <p>‚è±Ô∏è 25 minutos de foco</p>
                            <p>‚òï 5 minutos de pausa</p>
                        </div>
                    </div>
                </div>

                <div class="settings">
                    <h3><i class="fas fa-cog"></i> Configura√ß√µes</h3>
                    <div class="setting-group">
                        <label for="tempo-foco">Tempo de Foco (min):</label>
                        <input type="number" id="tempo-foco" value="25" min="1" max="60">
                    </div>
                    <div class="setting-group">
                        <label for="tempo-pausa">Tempo de Pausa (min):</label>
                        <input type="number" id="tempo-pausa" value="5" min="1" max="30">
                    </div>
                    <button class="btn btn-secondary" onclick="Pomodoro.salvarConfiguracoes()" style="width: 100%; margin-top: 12px;">
                        <i class="fas fa-save"></i> Salvar
                    </button>
                </div>
            </div>
        </div>
    </main>
    <footer id="footer-container"></footer>

    <script>
        const Pomodoro = {
            estado: { tempoFoco: 25 * 60, tempoOriginal: 25 * 60, tempoParusa: 5 * 60, emFoco: true, rodando: false, ciclosCompletos: 0 },
            intervalo: null,
            init() { this.carregarConfiguracoes(); this.carregarComponentes(); this.atualizarDisplay(); },
            iniciar() { if (this.estado.rodando) return; this.estado.rodando = true; document.getElementById('btn-iniciar').style.display = 'none'; document.getElementById('btn-pausar').style.display = 'inline-block'; this.intervalo = setInterval(() => { this.estado.tempoFoco--; this.atualizarDisplay(); if (this.estado.tempoFoco <= 0) this.alternarModo(); }, 1000); },
            pausar() { this.estado.rodando = false; clearInterval(this.intervalo); document.getElementById('btn-iniciar').style.display = 'inline-block'; document.getElementById('btn-pausar').style.display = 'none'; },
            resetar() { this.pausar(); this.estado.tempoFoco = this.estado.tempoOriginal; this.estado.emFoco = true; this.atualizarDisplay(); },
            alternarModo() { this.pausar(); if (this.estado.emFoco) { this.estado.ciclosCompletos++; this.estado.emFoco = false; this.estado.tempoFoco = this.estado.tempoParusa; } else { this.estado.emFoco = true; this.estado.tempoFoco = this.estado.tempoOriginal; } this.atualizarDisplay(); document.getElementById('pomodoros-hoje').textContent = this.estado.ciclosCompletos; },
            atualizarDisplay() { const min = Math.floor(this.estado.tempoFoco / 60); const seg = this.estado.tempoFoco % 60; document.getElementById('timer-display').textContent = String(min).padStart(2, '0') + ':' + String(seg).padStart(2, '0'); document.getElementById('timer-status').textContent = this.estado.emFoco ? 'üî¥ Foco - Tempo de estudar' : '‚òï Pausa - Tempo de descansar'; },
            setarFoco() { const foco = document.getElementById('focus-input').value; if (foco) { localStorage.setItem('pomodoro_foco', foco); } },
            salvarConfiguracoes() { const tf = parseInt(document.getElementById('tempo-foco').value) * 60; const tp = parseInt(document.getElementById('tempo-pausa').value) * 60; this.estado.tempoOriginal = tf; this.estado.tempoParusa = tp; this.estado.tempoFoco = tf; localStorage.setItem('pomodoro_config', JSON.stringify({ tempoFoco: tf, tempoParusa: tp })); this.atualizarDisplay(); alert('Salvo!'); },
            carregarConfiguracoes() { const cfg = JSON.parse(localStorage.getItem('pomodoro_config') || '{}'); if (cfg.tempoFoco) { this.estado.tempoOriginal = cfg.tempoFoco; this.estado.tempoFoco = cfg.tempoFoco; document.getElementById('tempo-foco').value = cfg.tempoFoco / 60; } if (cfg.tempoParusa) { this.estado.tempoParusa = cfg.tempoParusa; document.getElementById('tempo-pausa').value = cfg.tempoParusa / 60; } },
            carregarComponentes() { fetch('https://auditeduca.github.io/Calculadoras-de-Enfermagem/assets/html/header-v4.html').then(r => r.text()).then(h => document.getElementById('header-container').innerHTML = h).catch(e => console.error(e)); fetch('https://auditeduca.github.io/Calculadoras-de-Enfermagem/assets/html/footer-v4.html').then(r => r.text()).then(h => document.getElementById('footer-container').innerHTML = h).catch(e => console.error(e)); }
        };
        if (document.readyState === 'loading') { document.addEventListener('DOMContentLoaded', () => Pomodoro.init()); } else { Pomodoro.init(); }
    </script>
</body>
</html>

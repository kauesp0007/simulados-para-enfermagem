<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="theme-color" content="#1A3E74">
    <meta name="description" content="Timer Pomodoro - Técnica comprovada para aumentar a produtividade nos estudos">
    <title>Timer Pomodoro | Simulados de Enfermagem</title>

    <!-- Favicon -->
    <link rel="icon" type="image/webp" href="https://simulados-para-enfermagem.com.br/assets/images/logotipo-favicon.webp">
    <link rel="shortcut icon" type="image/webp" href="https://simulados-para-enfermagem.com.br/assets/images/logotipo-favicon.webp">

    <!-- Fontes Google -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Nunito+Sans:wght@600;700;800&display=swap" rel="stylesheet">

    <!-- Ícones FontAwesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <!-- CSS dos Componentes Modularizados -->
    <link rel="stylesheet" href="https://simulados-para-enfermagem.com.br/assets/components/css/components.css">
    <link rel="stylesheet" href="https://simulados-para-enfermagem.com.br/assets/components/css/accessibility.css">
    <link rel="stylesheet" href="https://simulados-para-enfermagem.com.br/assets/components/css/header.css">
    <link rel="stylesheet" href="https://simulados-para-enfermagem.com.br/assets/components/css/footer.css">

    <style>
        /* ============================================
           POMODORO SPECIFIC STYLES
           ============================================ */
        :root {
            --primary: #1A3E74;
            --accent: #00bcd4;
            --success: #4caf50;
            --warning: #ff9800;
            --error: #f44336;
            --light: #f4f6f9;
            --dark: #1f2937;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 100%;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--light);
            color: var(--dark);
            line-height: 1.6;
            overflow-x: hidden;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Nunito Sans', sans-serif;
        }

        /* Loader Global */
        #loader-global {
            position: fixed;
            inset: 0;
            background: #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 200000;
            transition: opacity 0.5s ease;
            opacity: 1;
        }

        #loader-global.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loader-dots {
            display: flex;
            gap: 8px;
        }

        .loader-dot {
            width: 10px;
            height: 10px;
            background: var(--primary);
            border-radius: 50%;
            opacity: 0.3;
            animation: dotPulse 1.4s ease-in-out infinite;
        }

        .loader-dot:nth-child(1) { animation-delay: 0s; }
        .loader-dot:nth-child(2) { animation-delay: 0.2s; }
        .loader-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes dotPulse {
            0%, 80%, 100% { opacity: 0.3; transform: scale(0.8); }
            40% { opacity: 1; transform: scale(1); }
        }

        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary);
            color: white;
            padding: 8px;
            z-index: 100000;
            transition: top 0.3s;
        }

        .skip-link:focus {
            top: 0;
        }

        .page-wrapper {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            position: relative;
            z-index: 1;
            min-height: calc(100vh - 300px);
        }

        .pomodoro-container {
            max-width: 800px;
        }

        .page-header {
            margin-bottom: 40px;
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .back-btn {
            background: white;
            border: none;
            width: 44px;
            height: 44px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            color: var(--primary);
        }

        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .page-title h1 {
            font-size: 32px;
            font-weight: 700;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .page-title h1 i {
            color: var(--primary);
        }

        .page-title p {
            font-size: 16px;
            color: #666;
            margin-top: 4px;
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 24px;
            font-size: 14px;
            color: #666;
        }

        .breadcrumb a {
            color: var(--primary);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .breadcrumb a:hover {
            color: var(--accent);
        }

        .breadcrumb i {
            font-size: 10px;
            color: #999;
        }

        .focus-card {
            background: linear-gradient(135deg, var(--primary) 0%, #0d2a52 100%);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            color: white;
        }

        .focus-card h3 {
            font-size: 18px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .focus-card p {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 16px;
        }

        .focus-input-group {
            display: flex;
            gap: 12px;
        }

        .form-input {
            flex: 1;
            padding: 12px 16px;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            background: white;
            color: var(--dark);
        }

        .form-input:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.3);
        }

        .quiz-card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .quiz-card h2 {
            font-size: 20px;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quiz-card h2 i {
            color: var(--primary);
        }

        .quiz-card > p {
            font-size: 14px;
            color: #666;
            margin-bottom: 24px;
        }

        .timer-section {
            text-align: center;
            padding: 32px 0;
        }

        .timer-display {
            margin-bottom: 32px;
        }

        .timer-time {
            font-size: 72px;
            font-weight: 700;
            color: var(--primary);
            font-family: 'Nunito Sans', sans-serif;
            line-height: 1;
            margin-bottom: 16px;
        }

        .timer-status {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
        }

        .timer-status.focus {
            background: #e0f2fe;
            color: var(--primary);
        }

        .timer-status.break {
            background: #ecfdf5;
            color: var(--success);
        }

        .timer-status i {
            font-size: 10px;
        }

        .controls-row {
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
            margin-bottom: 32px;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: #152c4f;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: white;
            color: var(--dark);
            border: 2px solid #e2e8f0;
        }

        .btn-secondary:hover {
            border-color: var(--primary);
            color: var(--primary);
        }

        .btn-full {
            width: 100%;
            justify-content: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 24px;
        }

        .stat-card {
            background: #f8fafc;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
        }

        .stat-icon {
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            margin: 0 auto 12px;
            font-size: 20px;
        }

        .stat-icon.blue {
            background: var(--primary);
        }

        .stat-icon.info {
            background: transparent;
            color: var(--primary);
        }

        .stat-label {
            font-size: 13px;
            color: #666;
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary);
        }

        .how-it-works {
            font-size: 13px;
            color: #666;
            text-align: left;
        }

        .how-it-works p {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .settings-section {
            margin-top: 32px;
            padding-top: 24px;
            border-top: 1px solid #e2e8f0;
        }

        .settings-section h3 {
            font-size: 16px;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .settings-section h3 i {
            color: var(--primary);
        }

        .setting-group {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .setting-label {
            font-size: 14px;
            color: var(--dark);
        }

        .setting-input {
            width: 80px;
            padding: 10px 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            text-align: center;
        }

        .setting-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        @media (max-width: 768px) {
            .page-wrapper {
                padding: 24px 16px;
            }

            .page-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .back-btn {
                position: absolute;
                top: 16px;
                right: 16px;
            }

            .page-title h1 {
                font-size: 24px;
            }

            .focus-input-group {
                flex-direction: column;
            }

            .timer-time {
                font-size: 48px;
            }

            .setting-group {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }
        }

        body.dark-mode {
            background: #1f2937;
            color: #f0f4f8;
        }

        body.dark-mode .quiz-card,
        body.dark-mode .back-btn,
        body.dark-mode .btn-secondary {
            background: #2d3748;
            color: #f0f4f8;
        }

        body.dark-mode .stat-card {
            background: #374151;
        }

        body.dark-mode .stat-label,
        body.dark-mode .page-title p,
        body.dark-mode .quiz-card > p,
        body.dark-mode .how-it-works {
            color: #cbd5e1;
        }

        body.dark-mode .timer-time {
            color: #f0f4f8;
        }

        body.dark-mode .timer-status.focus {
            background: #1e3a5f;
            color: #f0f4f8;
        }

        body.dark-mode .setting-input {
            background: #374151;
            border-color: #4b5563;
            color: #f0f4f8;
        }

        body.reduce-animations .btn,
        body.reduce-animations .back-btn {
            transition: none;
        }

        body.reduce-animations .loader-dot {
            animation: none;
        }
    </style>
</head>
<body>
    <!-- Loader Global -->
    <div id="loader-global">
        <div class="loader-dots">
            <div class="loader-dot"></div>
            <div class="loader-dot"></div>
            <div class="loader-dot"></div>
        </div>
    </div>

    <!-- Skip Link -->
    <a href="#main-content" class="skip-link">Pular para o conteúdo principal</a>

    <!-- CONTAINERS PARA COMPONENTES MODULARES -->
    <div id="accessibility-container"></div>
    <div id="header-container"></div>

    <!-- Conteúdo Principal -->
    <div class="page-wrapper pomodoro-container">
        <main id="main-content">
            <!-- Breadcrumb -->
            <nav class="breadcrumb" id="breadcrumb" aria-label="Navegação">
                <a href="dashboard.html"><i class="fas fa-home"></i> Início</a>
                <i class="fas fa-chevron-right"></i>
                <a href="dashboard.html">Dashboard</a>
                <i class="fas fa-chevron-right"></i>
                <span>Timer Pomodoro</span>
            </nav>

            <!-- Page Header -->
            <div class="page-header">
                <button class="back-btn" onclick="window.location.href='dashboard.html'" title="Voltar ao início">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <div class="page-title">
                    <h1><i class="fas fa-clock"></i> Timer Pomodoro</h1>
                    <p>Técnica comprovada para aumentar a produtividade nos estudos</p>
                </div>
            </div>

            <!-- Card de Foco -->
            <div class="focus-card">
                <h3><i class="fas fa-book"></i> Foco nos Estudos</h3>
                <p>O que você vai estudar?</p>
                <div class="focus-input-group">
                    <input type="text" class="form-input" id="focus-input" placeholder="Ex: Farmacologia, Antibióticos, Técnicas de enfermagem...">
                    <button class="btn btn-primary" onclick="Pomodoro.setarFoco()">
                        <i class="fas fa-check"></i>
                    </button>
                </div>
            </div>

            <!-- Timer Card -->
            <div class="quiz-card">
                <h2><i class="fas fa-hourglass-half"></i> Timer</h2>
                <p>Gerencie seu tempo de forma eficiente</p>

                <div class="timer-section">
                    <div class="timer-display">
                        <div class="timer-time" id="timer-display">25:00</div>
                        <div class="timer-status focus" id="timer-status">
                            <i class="fas fa-circle"></i> Foco - Tempo de estudar
                        </div>
                    </div>

                    <div class="controls-row">
                        <button class="btn btn-primary" id="btn-iniciar" onclick="Pomodoro.iniciar()">
                            <i class="fas fa-play"></i> Iniciar
                        </button>
                        <button class="btn btn-secondary" id="btn-pausar" onclick="Pomodoro.pausar()" style="display: none;">
                            <i class="fas fa-pause"></i> Pausar
                        </button>
                        <button class="btn btn-secondary" onclick="Pomodoro.resetar()">
                            <i class="fas fa-redo"></i> Resetar
                        </button>
                    </div>
                </div>

                <!-- Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon blue"><i class="fas fa-clock"></i></div>
                        <div class="stat-label">Pomodoros Hoje</div>
                        <div class="stat-value" id="pomodoros-hoje">0</div>
                    </div>
                    <div class="stat-card info">
                        <div class="how-it-works">
                            <p><i class="fas fa-clock"></i> 25 min de foco</p>
                            <p><i class="fas fa-coffee"></i> 5 min de pausa</p>
                        </div>
                    </div>
                </div>

                <!-- Settings -->
                <div class="settings-section">
                    <h3><i class="fas fa-cog"></i> Configurações</h3>
                    <div class="setting-group">
                        <span class="setting-label">Tempo de Foco (minutos)</span>
                        <input type="number" class="setting-input" id="tempo-foco" value="25" min="1" max="60">
                    </div>
                    <div class="setting-group">
                        <span class="setting-label">Tempo de Pausa (minutos)</span>
                        <input type="number" class="setting-input" id="tempo-pausa" value="5" min="1" max="30">
                    </div>
                    <button class="btn btn-secondary btn-full" onclick="Pomodoro.salvarConfiguracoes()">
                        <i class="fas fa-save"></i> Salvar Configurações
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- FOOTER -->
    <div id="footer-container"></div>

    <!-- SCRIPT DO COMPONENT LOADER -->
    <script>
        (function() {
            'use strict';

            // ========================================
            // CONFIGURAÇÃO DE CAMINHOS
            // ========================================
            const Config = {
                htmlPath: 'https://simulados-para-enfermagem.com.br/assets/components/html/',
                components: [
                    { id: 'accessibility-container', file: 'accessibility.html', name: 'Painel de Acessibilidade' },
                    { id: 'header-container', file: 'header.html', name: 'Cabeçalho' },
                    { id: 'footer-container', file: 'footer.html', name: 'Rodapé' }
                ]
            };

            // ========================================
            // CARREGADOR DE COMPONENTES
            // ========================================
            const ComponentLoader = {
                async loadComponent(comp) {
                    const container = document.getElementById(comp.id);
                    
                    if (!container) {
                        console.error('[ERRO] Container não encontrado: #' + comp.id);
                        return false;
                    }

                    const fullPath = Config.htmlPath + comp.file;
                    console.log('[INFO] Carregando: ' + comp.name + ' (' + fullPath + ')');

                    try {
                        const response = await fetch(fullPath);
                        
                        if (!response.ok) {
                            throw new Error('HTTP ' + response.status + ': ' + response.statusText);
                        }

                        const html = await response.text();
                        
                        if (!html || html.trim() === '') {
                            throw new Error('Arquivo vazio');
                        }

                        container.innerHTML = html;
                        console.log('[SUCESSO] ' + comp.name + ' carregado');
                        return true;

                    } catch (error) {
                        console.error('[ERRO] ' + comp.name + ':', error.message);
                        return false;
                    }
                },

                async init() {
                    console.log('========================================');
                    console.log('CARREGANDO COMPONENTES');
                    console.log('========================================');
                    
                    for (const comp of Config.components) {
                        await this.loadComponent(comp);
                    }

                    console.log('========================================');
                    console.log('[OK] Componentes carregados!');
                    console.log('========================================');
                }
            };

            // ========================================
            // POMODORO MANAGER
            // ========================================
            const Pomodoro = {
                estado: {
                    tempoFoco: 25 * 60,
                    tempoOriginal: 25 * 60,
                    tempoPausa: 5 * 60,
                    emFoco: true,
                    rodando: false,
                    ciclosCompletos: 0
                },
                intervalo: null,

                init() {
                    console.log('[Pomodoro] Inicializando...');
                    this.carregarConfiguracoes();
                    this.carregarFoco();
                    this.atualizarDisplay();
                    this.hideLoader();
                },

                hideLoader() {
                    setTimeout(() => {
                        const loader = document.getElementById('loader-global');
                        if (loader) {
                            loader.classList.add('hidden');
                            setTimeout(() => loader.style.display = 'none', 500);
                        }
                    }, 500);
                },

                iniciar() {
                    if (this.estado.rodando) return;
                    
                    this.estado.rodando = true;
                    document.getElementById('btn-iniciar').style.display = 'none';
                    document.getElementById('btn-pausar').style.display = 'inline-flex';
                    
                    this.intervalo = setInterval(() => {
                        this.estado.tempoFoco--;
                        this.atualizarDisplay();
                        
                        if (this.estado.tempoFoco <= 0) {
                            this.alternarModo();
                        }
                    }, 1000);
                    
                    this.tocarAlerta();
                },

                pausar() {
                    this.estado.rodando = false;
                    clearInterval(this.intervalo);
                    
                    document.getElementById('btn-iniciar').style.display = 'inline-flex';
                    document.getElementById('btn-pausar').style.display = 'none';
                },

                resetar() {
                    this.pausar();
                    this.estado.tempoFoco = this.estado.tempoOriginal;
                    this.estado.emFoco = true;
                    this.atualizarDisplay();
                },

                alternarModo() {
                    this.pausar();
                    
                    if (this.estado.emFoco) {
                        this.estado.ciclosCompletos++;
                        document.getElementById('pomodoros-hoje').textContent = this.estado.ciclosCompletos;
                        this.salvarEstatisticas();
                        
                        this.estado.emFoco = false;
                        this.estado.tempoFoco = this.estado.tempoPausa;
                        
                        alert('Parabéns! Você completou um ciclo de foco.\n\nHora de fazer uma pausa de 5 minutos.');
                    } else {
                        this.estado.emFoco = true;
                        this.estado.tempoFoco = this.estado.tempoOriginal;
                        
                        alert('Pausa terminada!\n\nHora de voltar ao foco.');
                    }
                    
                    this.atualizarDisplay();
                },

                atualizarDisplay() {
                    const min = Math.floor(this.estado.tempoFoco / 60);
                    const seg = this.estado.tempoFoco % 60;
                    
                    const tempoFormatado = String(min).padStart(2, '0') + ':' + String(seg).padStart(2, '0');
                    document.getElementById('timer-display').textContent = tempoFormatado;
                    
                    const statusEl = document.getElementById('timer-status');
                    if (this.estado.emFoco) {
                        statusEl.className = 'timer-status focus';
                        statusEl.innerHTML = '<i class="fas fa-circle"></i> Foco - Tempo de estudar';
                    } else {
                        statusEl.className = 'timer-status break';
                        statusEl.innerHTML = '<i class="fas fa-coffee"></i> Pausa - Tempo de descansar';
                    }
                },

                setarFoco() {
                    const foco = document.getElementById('focus-input').value.trim();
                    if (foco) {
                        localStorage.setItem('pomodoro_foco', foco);
                        alert('Foco definido: ' + foco);
                    }
                },

                carregarFoco() {
                    const foco = localStorage.getItem('pomodoro_foco');
                    if (foco) {
                        document.getElementById('focus-input').value = foco;
                    }
                },

                salvarConfiguracoes() {
                    const tempoFoco = parseInt(document.getElementById('tempo-foco').value);
                    const tempoPausa = parseInt(document.getElementById('tempo-pausa').value);
                    
                    if (tempoFoco < 1 || tempoFoco > 60) {
                        alert('O tempo de foco deve ser entre 1 e 60 minutos.');
                        return;
                    }
                    
                    if (tempoPausa < 1 || tempoPausa > 30) {
                        alert('O tempo de pausa deve ser entre 1 e 30 minutos.');
                        return;
                    }
                    
                    this.estado.tempoOriginal = tempoFoco * 60;
                    this.estado.tempoFoco = tempoFoco * 60;
                    this.estado.tempoPausa = tempoPausa * 60;
                    
                    const config = {
                        tempoFoco: this.estado.tempoOriginal,
                        tempoPausa: this.estado.tempoPausa
                    };
                    
                    localStorage.setItem('pomodoro_config', JSON.stringify(config));
                    this.atualizarDisplay();
                    alert('Configurações salvas com sucesso!');
                },

                carregarConfiguracoes() {
                    const configStr = localStorage.getItem('pomodoro_config');
                    if (configStr) {
                        try {
                            const config = JSON.parse(configStr);
                            
                            if (config.tempoFoco) {
                                this.estado.tempoOriginal = config.tempoFoco;
                                this.estado.tempoFoco = config.tempoFoco;
                                document.getElementById('tempo-foco').value = config.tempoFoco / 60;
                            }
                            
                            if (config.tempoPausa) {
                                this.estado.tempoPausa = config.tempoPausa;
                                document.getElementById('tempo-pausa').value = config.tempoPausa / 60;
                            }
                        } catch (e) {
                            console.error('[Pomodoro] Erro ao carregar configurações:', e);
                        }
                    }
                    
                    const hoje = new Date().toDateString();
                    const statsStr = localStorage.getItem('pomodoro_stats');
                    if (statsStr) {
                        try {
                            const stats = JSON.parse(statsStr);
                            if (stats.data === hoje) {
                                this.estado.ciclosCompletos = stats.ciclos || 0;
                            }
                        } catch (e) {
                            console.error('[Pomodoro] Erro ao carregar estatísticas:', e);
                        }
                    }
                    
                    document.getElementById('pomodoros-hoje').textContent = this.estado.ciclosCompletos;
                },

                salvarEstatisticas() {
                    const hoje = new Date().toDateString();
                    const stats = {
                        data: hoje,
                        ciclos: this.estado.ciclosCompletos
                    };
                    localStorage.setItem('pomodoro_stats', JSON.stringify(stats));
                },

                tocarAlerta() {
                    try {
                        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                        const oscillator = audioContext.createOscillator();
                        const gainNode = audioContext.createGain();
                        
                        oscillator.connect(gainNode);
                        gainNode.connect(audioContext.destination);
                        
                        oscillator.type = 'sine';
                        oscillator.frequency.setValueAtTime(880, audioContext.currentTime);
                        oscillator.frequency.setValueAtTime(880, audioContext.currentTime + 0.1);
                        oscillator.frequency.setValueAtTime(880, audioContext.currentTime + 0.2);
                        
                        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                        
                        oscillator.start(audioContext.currentTime);
                        oscillator.stop(audioContext.currentTime + 0.3);
                    } catch (e) {
                        console.log('[Pomodoro] Áudio não suportado');
                    }
                }
            };

            // ========================================
            // INICIALIZAÇÃO
            // ========================================
            function init() {
                if (document.readyState === 'loading') {
                    document.addEventListener('DOMContentLoaded', function() {
                        ComponentLoader.init().then(function() {
                            Pomodoro.init();
                        });
                    });
                } else {
                    ComponentLoader.init().then(function() {
                        Pomodoro.init();
                    });
                }
            }

            init();

        })();
    </script>
    
    <!-- JavaScript dos Componentes -->
    <script src="https://simulados-para-enfermagem.com.br/assets/components/js/header.js"></script>
    <script src="https://simulados-para-enfermagem.com.br/assets/components/js/accessibility.js"></script>
    <script src="https://simulados-para-enfermagem.com.br/assets/components/js/footer.js"></script>
    
    <!-- Scripts Locais -->
    <script src="js/utils.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/icons.js"></script>
</body>
</html>
